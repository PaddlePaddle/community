# No.85: ã€å¼€æºç¤¾åŒºå¯¹æ¯”ç ”ç©¶ã€‘ ä»¥ciä¸ºä¾‹

## ç›®å½•

-   [ä»»åŠ¡ä»‹ç»](#ä»»åŠ¡ä»‹ç»)
-   [å¼€æºè´¡çŒ®æµç¨‹](#å¼€æºè´¡çŒ®æµç¨‹)
    -   [Paddleå¼€æºè´¡çŒ®æµç¨‹](#Paddleå¼€æºè´¡çŒ®æµç¨‹)
-   [æŒç»­é›†æˆ(CI)](#æŒç»­é›†æˆCI)
-   [å¦‚ä½•è¡¡é‡CIçš„å¥½å](#å¦‚ä½•è¡¡é‡CIçš„å¥½å)
-   [å¦‚ä½•æé«˜CIæ°´å‡†](#å¦‚ä½•æé«˜CIæ°´å‡†)
-   [å¼€æºé¡¹ç›®CIåˆ†æ](#å¼€æºé¡¹ç›®CIåˆ†æ)
    -   [Paddle ](#Paddle-)
    -   [PyTorch](#PyTorch)
    -   [Tensorflow](#Tensorflow)
    -   [ONNX](#ONNX)
    -   [opencv](#opencv)
-   [CIæ¯”è¾ƒ](#CIæ¯”è¾ƒ)
    -   [paddleçš„ciå¯¹æ¯” github çš„ciä½“éªŒï¼ˆciäº§å“æœ¬èº«ï¼‰](#paddleçš„ciå¯¹æ¯”-github-çš„ciä½“éªŒciäº§å“æœ¬èº«)
    -   [paddleçš„ciå¯¹æ¯”å…¶ä»–ciçš„ä½“éªŒï¼ˆciè®¾è®¡æœ¬èº«ï¼‰](#paddleçš„ciå¯¹æ¯”å…¶ä»–ciçš„ä½“éªŒciè®¾è®¡æœ¬èº«)
-   [æ€»ç»“](#æ€»ç»“)

## ä»»åŠ¡ä»‹ç»

è¯·ä»¥ç¤¾åŒºå¼€å‘è€…çš„è§†è§’ï¼Œé€šè¿‡ä¸å…¶ä»–çš„çŸ¥åå¼€æºé¡¹ç›®ï¼ˆä¸å±€é™åœ¨ AI æ¡†æ¶é¢†åŸŸï¼‰çš„å¯¹æ¯”åˆ†æï¼Œæ¥äº§ç”Ÿä¸€ä»½åˆ†ææŠ¥å‘Šã€‚æŠ¥å‘Šå†…å®¹ä¸­ï¼Œè¯·é¦–å…ˆè¿›è¡Œé’ˆå¯¹å¼€æºè´¡çŒ®å½“ä¸­æ¶‰åŠåˆ°çš„å› ç´ å’Œæµç¨‹åšå‡ºæ¦‚è¦åˆ†æï¼Œç„¶åï¼Œé’ˆå¯¹ CI æµæ°´çº¿è¿›è¡Œä¸“é¡¹çš„ç»†è‡´åˆ†æã€‚æŠ¥å‘Šè¦èƒ½å¤Ÿé€šè¿‡ä¸å…¶ä»–å¼€æºé¡¹ç›®ç›¸æ¯”ï¼Œå°±é£æ¡¨æ¡†æ¶çš„ **CI æµæ°´çº¿çš„ä½¿ç”¨ä½“éªŒã€è‡ªåŠ¨åŒ–ç¨‹åº¦ã€å¯¹é¡¹ç›®çš„ä¿æŠ¤æƒ…å†µ**ï¼Œç­‰ç­‰æ–¹é¢ï¼ˆä¸é™äºå‰è¿°ä¸‰ä¸ªæ–¹é¢ï¼‰ç»™å‡ºæœ‰è®ºæ®æ”¯æ’‘çš„åˆ†æç»“è®ºã€‚

## å¼€æºè´¡çŒ®æµç¨‹

é¦–å…ˆï¼Œæˆ‘ä»¬å…ˆæ¥äº†è§£ä¸€ä¸‹å¼€æºé¡¹ç›®è´¡çŒ®è¿‡ç¨‹ä¸­æ¯”è¾ƒåŸºæœ¬è¦ç´ å’Œè¿è½¬è§„å¾‹ï¼š

1.  å¼€æºé¡¹ç›®çš„è´¡çŒ®æ–¹å¼

    åœ¨å¼€æºé¡¹ç›®ä¸­ï¼Œæœ€å¸¸è§çš„è´¡çŒ®æ–¹å¼æœ‰ï¼šæŠ¥å‘Šé—®é¢˜ã€æäº¤PRã€æ”¹è¿›ä¸ç¿»è¯‘æ–‡æ¡£ã€å‚ä¸è®¨è®ºã€ååŠ©æµ‹è¯•ç­‰ç­‰ï¼Œæ¯ç§æ–¹å¼éƒ½æ˜¯ä¸€ä¸ªè‰¯å¥½å¼€æºé¡¹ç›®ä¸å¯æˆ–ç¼ºçš„ä¸€éƒ¨åˆ†ï¼›ç¤¾åŒºæˆå‘˜é€šè¿‡æäº¤ä»£ç ã€æ–‡æ¡£ã€bugæŠ¥å‘Šç­‰å¤šæ ·åŒ–æ–¹å¼è®©å¼€æºé¡¹ç›®æ›´åŠ æ–‡ä»¶ï¼ŒåŒæ—¶æé«˜å¼€æºé¡¹ç›®çš„å½±å“åŠ›ã€‚
2.  å¼€æºé¡¹ç›®çš„å¥–åŠ±æœºåˆ¶

    ç¤¾åŒºæˆå‘˜å’Œå¼€æºé¡¹ç›®æ˜¯ç›¸äº’æˆå°±çš„ã€‚å¼€æºé¡¹ç›®é€šè¿‡è´¡çŒ®è€…ä¸°å¯Œäº†è‡ªèº«ç”Ÿæ€åŠå…¶ä»£ç çš„ç¨³å¥æ€§ã€è´¡çŒ®è€…åœ¨å¼€æºè´¡çŒ®çš„è¿‡ç¨‹ä¸­æé«˜è‡ªèº«çš„æŠ€æœ¯å¹¶æ”¶è·äº†æ¥è‡ªå¼€æºç¤¾åŒºçš„è®¤å¯ï¼Œç”šè‡³æ˜¯ä¸€äº›ç‰©è´¨å¥–åŠ±å’Œç²¾ç¥å¥–åŠ±ï¼šä»£é‡‘åˆ¸ã€ç‰¹æ®Šè£èª‰ã€åæœ›ã€ä¸“ä¸šè®¤è¯ã€ç¤¾åŒºè´¡çŒ®è®°å½•ç­‰ç­‰ï¼ŒåŒæ—¶ä¹Ÿå¯ä»¥å¢åŠ å¼€æºç¤¾åŒºå‚ä¸è€…åœ¨ä¸šç•Œçš„è®¤å¯åº¦ã€‚åŸºäºç¤¾åŒºæˆå‘˜ä¸å¼€æºé¡¹ç›®çš„åŒå‘äº’åŠ¨ï¼Œåœ¨è¿™è‰¯æ€§å¾ªç¯çš„é©±ä½¿ä¸‹åªä¼šè®©åŒæ–¹å˜å¾—è¶Šæ¥è¶Šå¥½ã€‚

å…¶æ¬¡ï¼Œå¦‚æœä½ æ˜¯ä¸€åæ–°çš„æƒ³è¦å‚ä¸å¼€æºé¡¹ç›®çš„æ–°å…´è´¡çŒ®è€…ï¼Œå¤§æ¦‚å¯ä»¥å‚è€ƒä»¥ä¸‹å‡ ä¸ªæ­¥éª¤ï¼š

1.  å¯»æ‰¾é€‚åˆè‡ªå·±çš„é¡¹ç›®æˆ–å¯¹åº”ä»£ç ç‰‡æ®µï¼šä½ å¯ä»¥åœ¨ GitHubã€GitLabã€å¯æ™ºç­‰å¼€æºå¹³å°ä¸Šå¯»æ‰¾æ„Ÿå…´è¶£çš„é¡¹ç›®ï¼Œè§£é¡¹ç›®çš„åŠŸèƒ½ã€ç‰¹ç‚¹ä»¥åŠç›¸å…³çš„æŠ€æœ¯æ ˆå’Œå¼€å‘è¯­è¨€ç­‰ä¿¡æ¯ã€‚é€‰æ‹©è‡ªå·±ç†Ÿæ‚‰çš„é¢†åŸŸæˆ–è€…æƒ³è¦å­¦ä¹ çš„é¢†åŸŸè¿›è¡Œè´¡çŒ®ï¼›åœ¨é€‰æ‹©å®Œé¡¹ç›®åï¼Œä½ éœ€è¦å¯¹å¯¹åº”çš„å¼€æºè´¡çŒ®æŒ‡å—è¿›è¡Œé˜…è¯»ï¼Œå¹¶é€‰å–è‡ªå·±æ„Ÿå…´è¶£çš„éƒ¨åˆ†ä»”ç»†æŸ¥çœ‹ã€‚
2.  æäº¤é—®é¢˜æˆ–å»ºè®®ï¼šå¦‚æœåœ¨ä½¿ç”¨æˆ–è€…é˜…è¯»å¼€æºé¡¹ç›®æ—¶å‘ç°äº†é—®é¢˜æˆ–æœ‰å¥½çš„å»ºè®®ï¼Œå¯ä»¥å‘é¡¹ç›®ç»´æŠ¤äººå‘˜æäº¤ issue æˆ– pull requestï¼Œæè¿°é—®é¢˜æˆ–å»ºè®®ï¼Œå¹¶å°½å¯èƒ½æä¾›è¯¦ç»†çš„ä¿¡æ¯å’Œä»£ç ç¤ºä¾‹ã€‚
3.  é˜…è¯»PRæ–‡æ¡£ï¼šåœ¨å¼€å§‹è´¡çŒ®ä¹‹å‰ï¼Œéœ€è¦è®¤çœŸé˜…è¯»é¡¹ç›®å’ŒPRæ–‡æ¡£åŠå…¶ä»£ç çº¦å®šï¼Œäº†è§£é¡¹ç›®çš„æ¶æ„ã€ç»„ç»‡ç»“æ„å’Œå¼€å‘è§„èŒƒï¼Œé¿å…æ— è°“çš„é”™è¯¯å’Œæµªè´¹æ—¶é—´ã€‚
4.  æ³¨å†Œå’Œé…ç½®ç¯å¢ƒï¼šåœ¨é˜…è¯»å®Œæ–‡æ¡£åå°±è¿›å…¥æ­£å¼çš„å¼€å‘ç¯èŠ‚ï¼Œæ­¤æ—¶éœ€è¦æ³¨å†Œå’Œé…ç½®å¼€å‘ç¯å¢ƒï¼ŒåŒ…æ‹¬å®‰è£…å¼€å‘å·¥å…·ã€ä¾èµ–åº“å’Œæµ‹è¯•ç¯å¢ƒç­‰ï¼Œç¡®ä¿å¯ä»¥é¡ºåˆ©ç¼–è¯‘ã€è¿è¡Œå’Œæµ‹è¯•ä»£ç ã€‚
5.  æäº¤ pull requestï¼šåœ¨å¯¹ä»£ç è¿›è¡Œä¿®æ”¹æˆ–æ·»åŠ æ–°åŠŸèƒ½åï¼Œéœ€è¦æäº¤ pull requestï¼Œæè¿°ä¿®æ”¹æˆ–æ·»åŠ çš„å†…å®¹ï¼Œå¹¶é™„ä¸Šè¯¦ç»†çš„è¯´æ˜å’Œæµ‹è¯•ç”¨ä¾‹ã€‚åœ¨æäº¤ä¹‹å‰ï¼Œéœ€è¦ç¡®ä¿ä»£ç å·²ç»è¿‡æœ¬åœ°æµ‹è¯•ï¼Œå¦åˆ™åœ¨çº¿ä¸ŠCIå¯èƒ½ä¼šæµªè´¹å¾ˆå¤šä¸å¿…è¦çš„æ—¶é—´ã€‚
6.  ç­‰å¾…å®¡æ ¸å’Œåˆå¹¶ï¼šä¸€æ—¦æäº¤ pull requestï¼Œå°±éœ€è¦ç­‰å¾…é¡¹ç›®ç»´æŠ¤äººå‘˜è¿›è¡Œå®¡æ ¸å’Œåˆå¹¶ã€‚åœ¨å®¡æ ¸ä¹‹å‰ï¼Œå¯èƒ½ä¼šæœ‰ä¸€äº›è®¨è®ºå’Œä¿®æ­£çš„è¿‡ç¨‹ï¼Œéœ€è¦ä¿æŒè€å¿ƒå’Œç§¯ææ€§ï¼Œå¤„ç†å¥½ä¸ç»´æŠ¤äººå‘˜ä¹‹é—´çš„æ²Ÿé€šå’Œåˆä½œå…³ç³»ã€‚

å…·ä½“çš„è´¡çŒ®æµç¨‹ï¼Œé’ˆå¯¹ä¸åŒå¼€æºé¡¹ç›®éƒ½æœ‰ä¸åŒçš„å…·ä½“å®ç°ï¼Œè¿™æ—¶å€™å°±éœ€è¦ä»”ç»†é˜…è¯»å¯¹åº”å®˜ç½‘çš„æ–‡æ¡£å’Œæ–‡ç« ï¼Œåœ¨éµå®ˆç¤¾åŒºè‰¯å¥½è§„èŒƒçš„å‰æä¸‹è¿›è¡Œè´¡çŒ®ã€‚

### Paddleå¼€æºè´¡çŒ®æµç¨‹

å¯¹äºPaddleçš„å¼€æºè´¡çŒ®æµç¨‹ä¸€èˆ¬ä¸ºï¼š

å‚ä¸å¼€æºç¤¾ç¾¤ï¼š

[https://www.paddlepaddle.org.cn/documentation/docs/zh/guides/10\_contribution/community\_contribution\_cn.html](https://www.paddlepaddle.org.cn/documentation/docs/zh/guides/10_contribution/community_contribution_cn.html "https://www.paddlepaddle.org.cn/documentation/docs/zh/guides/10_contribution/community_contribution_cn.html")

å‚ä¸ä»£ç è´¡çŒ®ï¼š

[https://www.paddlepaddle.org.cn/documentation/docs/zh/dev\_guides/code\_contributing\_path\_cn.html](https://www.paddlepaddle.org.cn/documentation/docs/zh/dev_guides/code_contributing_path_cn.html "https://www.paddlepaddle.org.cn/documentation/docs/zh/dev_guides/code_contributing_path_cn.html")

å‚ä¸æ–‡æ¡£è´¡çŒ®ï¼š

[https://www.paddlepaddle.org.cn/documentation/docs/zh/dev\_guides/docs\_contributing\_guides\_cn.html](https://www.paddlepaddle.org.cn/documentation/docs/zh/dev_guides/docs_contributing_guides_cn.html "https://www.paddlepaddle.org.cn/documentation/docs/zh/dev_guides/docs_contributing_guides_cn.html")

å…·ä½“çš„å‚ä¸è¿‡ç¨‹å’Œå¼•å¯¼éƒ½å¯ä»¥å‚è€ƒæ–‡æ¡£ä¸­æ‰€è¿°ï¼Œå¦‚æœæœ‰å­˜åœ¨ç–‘é—®çš„åœ°æ–¹å¯ä»¥åœ¨å¯¹åº”çš„å¼€æºç¤¾ç¾¤è¿›è¡Œåé¦ˆã€‚

## æŒç»­é›†æˆ(CI)

ä»‹ç»å®ŒåŸºç¡€çš„å¼€æºè´¡çŒ®æµç¨‹ï¼Œæ¥ä¸‹æ¥å°±è¿›å…¥åˆ°æŒç»­é›†æˆï¼ˆContinuous Integration, CIï¼‰è®¨è®ºçš„ç¯èŠ‚ï¼Œä¸€ä¸ªè‰¯å¥½çš„CIæ˜¯å¼€æºé¡¹ç›®ç”Ÿå‘½çš„å…³é”®ï¼Œä¹Ÿæ˜¯è®©å¼€æºè´¡çŒ®èƒ½å¤Ÿç¨³æ­¥è¿›è¡Œçš„é‡è¦å› ç´ ä¹‹ä¸€ã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬éœ€è¦å¯¹æŒç»­é›†æˆæœ‰ä¸€ä¸ªæ¦‚è§ˆï¼Œä»¥ä¾¿æˆ‘ä»¬æ›´å¥½çš„ç†è§£ä¹‹åçš„å†…å®¹ï¼š

CIæ˜¯ä¸€é¡¹æå…¶é‡è¦çš„å¼€å‘å·¥å…·ï¼Œå…¶ä¸»è¦ç›®çš„åœ¨äºé€šè¿‡è‡ªåŠ¨åŒ–æ„å»ºã€æµ‹è¯•ç­‰æ“ä½œï¼Œç¡®ä¿æ¯ä¸€æ¬¡ä»£ç æäº¤éƒ½ç¬¦åˆé¡¹ç›®è§„èŒƒã€‚ä½œä¸ºä¿æŠ¤å¤§å‹é¡¹ç›®ä»£ç çš„åˆ©å™¨ï¼ŒCIèƒ½å¤Ÿæœ‰æ•ˆåœ°é˜²æ­¢ä¸»ä»£ç è¢«ç ´åè€Œä¸å¯è¿è¡Œï¼ŒåŒæ—¶ä¹Ÿèƒ½å¤ŸåŠ å¿«ä¸åŒè´¡çŒ®è€…ä¹‹é—´åä½œå¼€å‘çš„æ•ˆç‡ï¼Œä¸ºå¼€æºé¡¹ç›®ç¨³å®šè¿è¡Œä¿é©¾æŠ¤èˆªã€‚

1.  æŒç»­é›†æˆçš„ç®€ä»‹

    æŒç»­é›†æˆæ˜¯ä¸€ä¸ªè½¯ä»¶å¼€å‘è¿‡ç¨‹ï¼Œå¼€å‘äººå‘˜åœ¨æ•´ä¸ªå¼€å‘å‘¨æœŸä¸­æ›´é¢‘ç¹åœ°é›†æˆä»–ä»¬ç¼–å†™çš„æ–°ä»£ç ï¼Œå¯¹æ„å»ºçš„æ¯ä¸ªè¿­ä»£è¿›è¡Œè‡ªåŠ¨åŒ–æµ‹è¯•ï¼Œä»¥ä¾¿æ›´æ—©åœ°è¯†åˆ«é›†æˆé—®é¢˜ï¼Œé¿å…åœ¨å‘å¸ƒçš„æœ€ç»ˆåˆå¹¶æ—¶å‡ºç°é—®é¢˜ã€‚æ€»çš„æ¥è¯´ï¼ŒæŒç»­é›†æˆæœ‰åŠ©äºç®€åŒ–æ„å»ºè¿‡ç¨‹ï¼Œä»è€Œäº§ç”Ÿæ›´é«˜è´¨é‡çš„è½¯ä»¶å’Œå¾—åˆ°æ›´å¯é¢„æµ‹çš„äº¤ä»˜æ—¶é—´ã€‚
2.  å¸¸ç”¨çš„æŒç»­é›†æˆå·¥å…·

    å¸¸è§çš„CIå·¥å…·æœ‰Jenkinsã€Travis CIã€Circle CIã€Github Actionç­‰ï¼Œä»–ä»¬çš„ä¸€äº›å¯¹æ¯”å¦‚ä¸‹ï¼š

    å…¶ä¸­ä¸€äº›è¯è¯­çš„æ„æ€è§£æå¦‚ä¸‹ï¼š

    pipeline as codeï¼šå¤§æ„æ˜¯å°†å¤æ‚çš„æ„å»ºæµç¨‹çº³å…¥ä¸€ä¸ªç®€å•çš„è„šæœ¬æ–‡ä»¶ï¼Œç„¶åç”¨ä¸€æ¡å‘½ä»¤è°ƒç”¨ã€‚è¿™æ ·ï¼Œä»»æ„çš„å¼€å‘è€…éƒ½èƒ½åœ¨è‡ªå·±çš„å·¥ä½œåŒºä¸­æ‰§è¡Œè„šæœ¬é‡å»ºä¸€å¥—ä¸€æ¨¡ä¸€æ ·çš„æ„å»ºç¯å¢ƒï¼Œä»è€Œæ¶ˆé™¤CI/CDç¯å¢ƒç”±äºæ•£ä¹±é…ç½®è…åŒ–è€Œæˆçš„ç‰¹å¼‚æ€§ã€‚æœ€æ˜¾è‘—çš„ä¾‹å­æ˜¯GitHub Actions ä¸­é€šè¿‡åœ¨ä»“åº“é…ç½®ä¸€ä¸ªåŸºäº YML çš„ DSL æ–‡ä»¶æ¥åˆ›å»ºä¸€ä¸ªå·¥ä½œæµã€‚

    ![](https://ai-studio-static-online.cdn.bcebos.com/bb2dfa87046347d7a8caa66e9cfddeae0f8ff2f8e81846d186d1d5c99d17b4ee)

    |                                        |                                                                           |                                                            |                                                 |
    | -------------------------------------- | ------------------------------------------------------------------------- | ---------------------------------------------------------- | ----------------------------------------------- |
    |                                        | CircleCI                                                                  | TravisCI                                                   | Jenkins                                         |
    | Software model                         | Mostly private (some open source)                                         | Some private (some open source)                            | Open source                                     |
    | Supported OS                           | Linux or MacOS                                                            | Linux  &#xA;macOS  &#xA;Windows                            | All (no limitations)                            |
    | Source Code Repositories               | GitHub  &#xA;Bitbucket                                                    | GitHub                                                     | All (no limitations)                            |
    | Cloud solution                         | yes                                                                       | yes                                                        | yes                                             |
    | Configuration                          | yml file                                                                  | yml file                                                   | Jenkinsfile                                     |
    | Custom cloud / private server solution | Yes (including a free plan)                                               | Yes (no free version)                                      | Custom cloud / private server solution          |
    | Paid plan details                      | Based on containers and concurrent jobs (unlimited hours, users, minutes) | Based on concurrent jobs (unlimited hours, users, minutes) | Free to use, requires a dedicated administrator |
3.  æŒç»­é›†æˆçš„æ‰§è¡Œæµç¨‹

    è‡ªåŠ¨åŒ–çš„å‘¨æœŸæ€§çš„é›†æˆæµ‹è¯•è¿‡ç¨‹ï¼Œè‡ªåŠ¨å®Œæˆæ£€å‡ºä»£ç ã€ç¼–è¯‘æ„å»ºã€è¿è¡Œæµ‹è¯•ã€ç»“æœè®°å½•ã€æµ‹è¯•ç»Ÿè®¡ç­‰ä»»åŠ¡

    ![](https://ai-studio-static-online.cdn.bcebos.com/d5be92242984410da9648bf2d6cb7d7677da012114134e00850a8d4c45975ca1)

4.  æŒç»­é›†æˆä¸­çš„é—®é¢˜å’ŒæŒ‘æˆ˜

    åœ¨CIéƒ¨ç½²è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬å¯èƒ½ä¼šé‡åˆ°å¾ˆå¤šé—®é¢˜ï¼Œæ¯”å¦‚ç¯å¢ƒç®¡ç†çš„æ··ä¹±ã€èŠ±å¤ªå¤šæ—¶é—´åœ¨æµ‹è¯•ä»£ç ä¸Šã€ä»£ç è±å…å¯¼è‡´çš„æµæ°´çº¿ç˜«ç—ªã€é—®é¢˜æŒ¤å‹åçš„æµæ°´çº¿åœæ»ã€å¤šæ¡æµæ°´çº¿ç®¡ç†å›°éš¾æˆ–æµæ°´çº¿æ‹¥å µç­‰......è¿™äº›éƒ½éœ€è¦å’Œä»“åº“ç®¡ç†å‘˜ä¿æŒå¯†åˆ‡åå•†å’Œè”ç³»ï¼Œåœ¨é—®é¢˜å‡ºç°çš„æ—¶å€™ç¬¬ä¸€æ—¶é—´æ²Ÿé€šç­‰å¾…åˆä½œè§£å†³ï¼Œæˆ–æ˜¯ä¸è¦å¤ªå·äº†ï¼ˆå¥½å¤šæ¬¡æ‹¥å µæ˜¯å†…å·é€ æˆï¼‰ã€‚

## å¦‚ä½•è¡¡é‡CIçš„å¥½å

å‚è€ƒèµ„æ–™ï¼š

[https://www.jetbrains.com/zh-cn/teamcity/ci-cd-guide/devops-ci-cd-metrics/](https://www.jetbrains.com/zh-cn/teamcity/ci-cd-guide/devops-ci-cd-metrics/ "https://www.jetbrains.com/zh-cn/teamcity/ci-cd-guide/devops-ci-cd-metrics/")

[https://shenxianpeng.github.io/2021/12/cicd-assessment/](https://shenxianpeng.github.io/2021/12/cicd-assessment/ "https://shenxianpeng.github.io/2021/12/cicd-assessment/")

è¿™é‡Œæˆ‘å‚è€ƒç¬¬äºŒä¸ªä½œè€…ï¼ˆDevOpsæ”»åŸç‹®ï¼‰çš„æ ‡å‡†ï¼š

| ç±»åˆ«     | æœ€ä½³å®è·µæ ‡å‡†          | åˆ†æ•°     | æè¿°                                |
| ------ | --------------- | ------ | --------------------------------- |
| **åŸºæœ¬** | ğŸ”°**æ„å»ºä»»ä½•åˆ†æ”¯**    | **20** | æ”¯æŒä»»ä½•åˆ†æ”¯æ„å»º                          |
|        | ğŸ”°**æ„å»ºä»»ä½•PR**    | **20** | æ”¯æŒå¯¹ä»»ä½• Pull Request åœ¨ Merge ä¹‹å‰è¿›è¡Œæ„å»º |
|        | ğŸ”°ä¸Šä¼ åˆ¶å“          | 10     | æ„å»ºäº§ç‰©ä¸Šä¼ åˆ°åˆ¶å“ä»“åº“ä¿å­˜                     |
|        | ğŸ‘å®¹å™¨åŒ–æ„å»º         | 10     | æ¨èä½¿ç”¨å®¹å™¨åŒ–æŠ€æœ¯å®ç°Pipeline               |
| **è´¨é‡** | ğŸ”°**è‡ªåŠ¨åŒ–æµ‹è¯•**     | **20** | æ”¯æŒè§¦å‘å†’çƒŸ/å•å…ƒ/å›å½’æµ‹è¯•                    |
|        | ğŸ‘æ€§èƒ½æµ‹è¯•          | 10     | æ”¯æŒè§¦å‘æ€§èƒ½æµ‹è¯•                          |
|        | ğŸ‘ä»£ç è¦†ç›–ç‡æ”¶é›†       | 10     | æ”¯æŒè·å¾—ä»£ç è¦†ç›–ç‡                         |
| **å®‰å…¨** | ğŸ”°æ¼æ´æ‰«æ          | 10     | æ”¯æŒè§¦å‘æ¼æ´æ‰«æ                          |
|        | ğŸ”°Licenseæ‰«æ     | 10     | æ”¯æŒè§¦å‘è¯ä¹¦æ‰«æ                          |
| **åˆ†æ** | ğŸ‘Code Lint     | 10     | æ”¯æŒå¯¹PRè¿›è¡Œä»£ç æ ¼å¼æ£€æŸ¥                     |
|        | ğŸ‘é™æ€ä»£ç åˆ†æ        | 10     | æ”¯æŒå¯¹PRè¿›è¡Œé™æ€ä»£ç åˆ†æ                     |
|        | ğŸ‘åŠ¨æ€ä»£ç åˆ†æ        | 10     | æ”¯æŒå¯¹PRè¿›è¡ŒåŠ¨æ€ä»£ç åˆ†æ                     |
| **æŠ¥å‘Š** | ğŸ”°Emailæˆ–Slacké€šçŸ¥ | 10     | æ”¯æŒé€šè¿‡Emailæˆ–Slackç­‰æ–¹å¼é€šçŸ¥              |

## å¦‚ä½•æé«˜CIæ°´å‡†

åœ¨è¿™ä¸€é˜¶æ®µï¼Œæˆ‘ä»¬å¯ä»¥ç¨å¾®äº†è§£ä¸‹åœ¨åŸºç¡€CIçš„æ„å»ºèŒƒå¼ä¹‹ä¸Šï¼Œæˆ‘ä»¬è¿˜èƒ½åšäº›ä»€ä¹ˆè®©CIå˜å¾—æ›´å¥½ï¼š

-   è‡ªåŠ¨åŒ–æµ‹è¯•è¦†ç›–ç¨‹åº¦

è‡ªåŠ¨åŒ–æµ‹è¯•è¦†ç›–ç‡è¶Šé«˜ï¼Œå‘ç°é—®é¢˜çš„å‡†ç¡®æ€§å’Œæ•ˆç‡ä¹Ÿå°±è¶Šé«˜ï¼Œèƒ½å¤Ÿåœ¨ç¬¬ä¸€æ—¶é—´å‘ç°è½¯ä»¶çš„é—®é¢˜ï¼Œä»è€Œæé«˜äº†å¼€å‘å›¢é˜Ÿçš„ç”Ÿäº§åŠ›å’Œååº”èƒ½åŠ›ï¼›å¦‚æœè‡ªåŠ¨åŒ–æµ‹è¯•è¦†ç›–ä¸è¶³ï¼Œè½¯ä»¶ä¼šæ›´å®¹æ˜“å‡ºç°é—®é¢˜ã€‚

-   è¾ƒçŸ­çš„æ„å»ºå’Œæµ‹è¯•è¿‡ç¨‹

é¡¾åæ€ä¹‰ï¼Œè¶Šå¿«çš„CIè¿‡ç¨‹èƒ½å¤Ÿæ›´å¿«é€Ÿæœ‰æ•ˆçš„åé¦ˆæµ‹è¯•æƒ…å†µã€‚

-   æµ‹è¯•ç»“æœçš„åé¦ˆ

CIç»“æœçš„åé¦ˆå¾ˆé‡è¦ï¼Œå¦‚æœæ²¡æœ‰åŠæ—¶åé¦ˆåŠæ—¶å¤„ç†å®¹æ˜“é€ æˆæµæ°´çº¿æ‹¥å µç”šè‡³æ˜¯åˆ†æ”¯å—æŸã€‚

-   åˆ†é˜¶æ®µæ„å»º
    å¯ä»¥å°†ç³»ç»Ÿåˆ†è§£ä¸ºè¾ƒå°çš„å­ç³»ç»Ÿ (æ¨¡å—)ï¼Œç„¶åå•ç‹¬åœ°æ„å»ºæ¯ä¸ªå­ç³»ç»Ÿï¼Œå¦‚å›¾æ‰€ç¤ºï¼š

![](https://ai-studio-static-online.cdn.bcebos.com/70f1d3bd6f0d4fc6a99a6dd8d64a87c63936f0e0c4f94c1bbd2a2b9b4cd04cd9)


å…¶ä»–æ›´å¤šçš„CIé˜²å¾¡æ€§æŠ¥å‘Šï¼š

-   è‡ªåŠ¨åŒ–æµ‹è¯•è¦†ç›–ç‡
-   ä»£ç åº“çš„æŸäº›ç‰¹å¾ï¼Œæ¯”å¦‚é‡å¤ä»£ç é‡ã€åœˆå¤æ‚åº¦ã€è¾“å…¥åˆåº¦ã€è¾“å‡ºåˆåº¦ä»£ç é£æ ¼é—®é¢˜ç­‰ç¼ºé™·çš„æ•°é‡ã€‚
-   æ¯å¤©æ„å»ºå¤±è´¥çš„æ¬¡æ•°ã€‚
-   æ¯æ¬¡æ„å»ºæ‰€èŠ±çš„æ—¶é—´ï¼ŒåŒ…æ‹¬è‡ªåŠ¨åŒ–æµ‹è¯•çš„æ—¶é—´

## å¼€æºé¡¹ç›®CIåˆ†æ

åœ¨è¿™é‡Œæˆ‘ä¸»è¦é€‰æ‹©äº†è¿™å‡ ä¸ªé¡¹ç›®ä½œä¸ºCIæ¯”è¾ƒï¼ˆå…¶ä»–å¾ˆå¤šå¼€æºé¡¹ç›®å…¶å®ä¹Ÿéƒ½å…«ä¹ä¸ç¦»åï¼Œpytrochå‡ ä¹ç®—æ˜¯å¤©èŠ±æ¿çº§åˆ«çš„ï¼‰ï¼šPadddleã€PyTorchã€TensorFlowã€ONNXã€OpenCVã€‚

### Paddle&#x20;

é¦–å…ˆè®©æˆ‘ä»¬æ¥çœ‹çœ‹Paddleï¼Œpaddleçš„CIå®˜æ–¹è§£ææ–‡æ¡£å¦‚ä¸‹ï¼š

[https://www.paddlepaddle.org.cn/documentation/docs/zh/develop/dev\_guides/git\_guides/paddle\_ci\_manual\_cn.html](https://www.paddlepaddle.org.cn/documentation/docs/zh/develop/dev_guides/git_guides/paddle_ci_manual_cn.html "https://www.paddlepaddle.org.cn/documentation/docs/zh/develop/dev_guides/git_guides/paddle_ci_manual_cn.html")

[https://github.com/PaddlePaddle/Paddle/wiki/paddle\_ci\_manual](https://github.com/PaddlePaddle/Paddle/wiki/paddle_ci_manual "https://github.com/PaddlePaddle/Paddle/wiki/paddle_ci_manual")

paddle çš„CIæ¨¡å—ä¸»è¦ä¸ºä»¥ä¸‹å‡ å¤§ç±»

![](https://ai-studio-static-online.cdn.bcebos.com/f4496b624c4e405aaff53b04b54a3d842694f8cab6fd43c1b317ceb911da94f9)


| CIå                      | ä½œç”¨                                                                                                                                                                                                        |
| ------------------------ | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| PR-CE-Framework          | æ£€æµ‹æ¡†æ¶ API ä¸é¢„æµ‹ API çš„æ ¸å¿ƒæµ‹è¯•ç”¨ä¾‹æ˜¯å¦é€šè¿‡ã€‚                                                                                                                                                                             |
| PR-CI-Build              | ç”Ÿæˆå½“å‰ PR çš„ç¼–è¯‘äº§ç‰©ï¼Œå¹¶å°†ç¼–è¯‘äº§ç‰©ä¸Šä¼ åˆ° BOSï¼ˆç™¾åº¦æ™ºèƒ½äº‘å¯¹è±¡å­˜å‚¨ï¼‰ä¸­ï¼Œæ–¹ä¾¿åç»­çš„ CI å¯ä»¥ç›´æ¥å¤ç”¨è¯¥ç¼–è¯‘äº§ç‰©ã€‚                                                                                                                                             |
| PR-CI-CINN               | ç¼–è¯‘å« CINNï¼ˆCompiler Infrastructure for Neural Networksï¼Œé£æ¡¨è‡ªç ”æ·±åº¦å­¦ä¹ ç¼–è¯‘å™¨ï¼‰çš„ Paddleï¼Œå¹¶è¿è¡Œ Paddle è®­ç»ƒæ¡†æ¶ä¸ CINN å¯¹æ¥çš„å•æµ‹ï¼Œä¿è¯è®­ç»ƒæ¡†æ¶è¿›è¡Œ CINN ç›¸å…³å¼€å‘çš„æ­£ç¡®æ€§ã€‚                                                                             |
| PR-CI-Coverage           | æ£€æµ‹å½“å‰ PR åœ¨ GPUã€Python3 ç‰ˆæœ¬çš„ç¼–è¯‘ä¸å•æµ‹æ˜¯å¦é€šè¿‡ï¼ŒåŒæ—¶å¢é‡ä»£ç éœ€æ»¡è¶³è¡Œè¦†ç›–ç‡å¤§äº 90% çš„è¦æ±‚ã€‚                                                                                                                                               |
| PR-CI-GpuPS              | æ£€æµ‹ GPUBOX ç›¸å…³ä»£ç åˆå…¥åç¼–è¯‘æ˜¯å¦é€šè¿‡ã€‚éœ€ è§‚å¯Ÿä¸‹åˆ—æƒ…å†µæ˜¯å¦å‘ç”Ÿï¼š                                                                                                                                                                     |
| PR-CI-GpuPS-PSLIB        | æ£€æµ‹ GPUBOX ç›¸å…³ä»£ç åˆå…¥åç¼–è¯‘æ˜¯å¦é€šè¿‡ã€‚                                                                                                                                                                                  |
| PR-CI-Inference          | æ£€æµ‹å½“å‰ PR å¯¹ C++ é¢„æµ‹åº“ç¼–è¯‘å’Œå•æµ‹æ˜¯å¦é€šè¿‡ã€‚                                                                                                                                                                               |
| PR-CI-Kunlun-R200        | æ£€æµ‹ PR ä¸­çš„ä¿®æ”¹èƒ½å¦åœ¨æ˜†ä»‘èŠ¯ XPU ä¸Šç¼–è¯‘ä¸å•æµ‹é€šè¿‡ã€‚                                                                                                                                                                            |
| PR-CI-Model-benchmark    | [æ£€æµ‹ PR ä¸­çš„ä¿®æ”¹æ˜¯å¦ä¼šå¯¼è‡´æ¨¡å‹æ€§èƒ½ä¸‹é™æˆ–è€…è¿è¡ŒæŠ¥é”™ã€‚&#xA;PR-CI-Model-benchmark Manual](https://github.com/PaddlePaddle/Paddle/wiki/PR-CI-Model-benchmark-Manual "æ£€æµ‹ PR ä¸­çš„ä¿®æ”¹æ˜¯å¦ä¼šå¯¼è‡´æ¨¡å‹æ€§èƒ½ä¸‹é™æˆ–è€…è¿è¡ŒæŠ¥é”™ã€‚&#xA;PR-CI-Model-benchmark Manual") |
| PR-CI-OP-benchmark       | [æ£€æµ‹ PR ä¸­çš„ä¿®æ”¹æ˜¯å¦ä¼šé€ æˆ OP æ€§èƒ½ä¸‹é™æˆ–è€…ç²¾åº¦é”™è¯¯ã€‚&#xA;PR-CI-OP-benchmark Manual](https://github.com/PaddlePaddle/Paddle/wiki/PR-CI-OP-benchmark-Manual "æ£€æµ‹ PR ä¸­çš„ä¿®æ”¹æ˜¯å¦ä¼šé€ æˆ OP æ€§èƒ½ä¸‹é™æˆ–è€…ç²¾åº¦é”™è¯¯ã€‚&#xA;PR-CI-OP-benchmark Manual")      |
| PR-CI-Paddle-Doc-Preview | æ–‡æ¡£ç›¸å…³                                                                                                                                                                                                      |
| PR-CI-Py3                | æ£€æµ‹å½“å‰ PR åœ¨ CPUã€Python3 ç‰ˆæœ¬çš„ç¼–è¯‘ä¸å•æµ‹æ˜¯å¦é€šè¿‡ã€‚                                                                                                                                                                       |
| PR-CI-ROCM-Compile       | æ£€æµ‹ PR ä¸­çš„ä¿®æ”¹èƒ½å¦åœ¨æµ·å…‰ DCU èŠ¯ç‰‡ä¸Šç¼–è¯‘é€šè¿‡ã€‚                                                                                                                                                                              |
| PR-CI-Static-Check       | æ£€æµ‹developåˆ†æ”¯ä¸å½“å‰PRåˆ†æ”¯çš„å¢é‡ API è‹±æ–‡æ–‡æ¡£æ˜¯å¦ç¬¦åˆè§„èŒƒï¼Œä»¥åŠå½“å˜æ›´ API æˆ– OP æ—¶æ£€æµ‹æ˜¯å¦ç»è¿‡äº† TPM å®¡æ‰¹ï¼ˆApprovalï¼‰ã€‚                                                                                                                            |
| PR-CI-Windows            | æ£€æµ‹å½“å‰ PR åœ¨ Windows GPU ç¯å¢ƒä¸‹ç¼–è¯‘ä¸å•æµ‹æ˜¯å¦é€šè¿‡ï¼Œå¹¶æ£€æµ‹å½“å‰ PR åˆ†æ”¯ç›¸æ¯”developåˆ†æ”¯æ˜¯å¦æ–°å¢å•æµ‹ä»£ç ï¼Œå¦‚æœ‰ä¸åŒï¼Œæç¤ºéœ€è¦å®¡æ‰¹ï¼ˆApprovalï¼‰ã€‚                                                                                                                  |
| PR-CI-Windows-Inference  | æ£€æµ‹å½“å‰ PR åœ¨ Windows ç³»ç»Ÿä¸‹é¢„æµ‹æ¨¡å—çš„ç¼–è¯‘ä¸å•æµ‹æ˜¯å¦é€šè¿‡ã€‚                                                                                                                                                                      |
| CheckPRTemplate          | æ£€æŸ¥ PR æè¿°ä¿¡æ¯æ˜¯å¦æŒ‰ç…§æ¨¡æ¿å¡«å†™                                                                                                                                                                                        |
| PR-CI-APPROVAL           | æ£€æµ‹ PR ä¸­çš„ä¿®æ”¹æ˜¯å¦é€šè¿‡äº†å®¡æ‰¹ï¼ˆApprovalï¼‰ã€‚                                                                                                                                                                              |
| PR-CI-Clone              | å°†å½“å‰ PR çš„ä»£ç ä» GitHub Clone åˆ° CI æµ‹è¯•æ‰§è¡Œçš„æœºå™¨ï¼Œæ–¹ä¾¿åç»­çš„ CI ç›´æ¥ä½¿ç”¨ã€‚                                                                                                                                                      |
| PR-CI-Codestyle-Check    | precommit                                                                                                                                                                                                 |
| PR-CI-Mac-Python3        | æ£€æµ‹å½“å‰ PR åœ¨ MAC ç³»ç»Ÿä¸‹ Python 3.5 ç‰ˆæœ¬çš„ç¼–è¯‘ä¸å•æµ‹æ˜¯å¦é€šè¿‡ï¼Œå¹¶æ£€æµ‹å½“å‰ PR åˆ†æ”¯ç›¸æ¯”developåˆ†æ”¯æ˜¯å¦æ–°å¢å•æµ‹ä»£ç ï¼Œå¦‚æœ‰ä¸åŒï¼Œæç¤ºéœ€è¦å®¡æ‰¹ï¼ˆApprovalï¼‰ã€‚                                                                                                           |
| PR-CI-Windows-OPENBLAS   | æ£€æµ‹å½“å‰ PR åœ¨ Windows CPU ç³»ç»Ÿä¸‹ç¼–è¯‘ä¸å•æµ‹æ˜¯å¦é€šè¿‡ã€‚                                                                                                                                                                       |

### PyTorch

[https://github.com/pytorch/pytorch/tree/master/.github/workflows](https://github.com/pytorch/pytorch/tree/master/.github/workflows "https://github.com/pytorch/pytorch/tree/master/.github/workflows")

pytorchçš„CIå®˜æ–¹è§£è¯»æ–‡æ¡£ï¼š

[https://github.com/pytorch/pytorch/wiki/Continuous-Integration#ci-system-overview](https://github.com/pytorch/pytorch/wiki/Continuous-Integration#ci-system-overview "https://github.com/pytorch/pytorch/wiki/Continuous-Integration#ci-system-overview")

ç”±äºå†å²åŸå› ï¼Œ pytorchç°åœ¨æœ‰ä¸¤ä¸ªCIå¹³å°ï¼šGithub Actions, CirlceCIï¼›è€Œå¯¹äºpytorchï¼Œæ€»çš„æ¥è¯´æœ‰ä¸‰ç§ç±»å‹çš„CIéœ€è¦è¿è¡Œï¼Œåˆ†åˆ«ä¸ºï¼š

1.  å¯¹äºä¸»commitçš„CIï¼Œæ­¤ CI å·¥ä½œæµé›†æ˜¯åŸºå‡†ã€‚
2.  å¯¹äºPRçš„CIæ˜¯ä¸»CI å·¥ä½œæµçš„ä¸€ä¸ªå­é›†ï¼Œä¸ä¸»æäº¤åŸºå‡†ç›¸æ¯”è¾ƒï¼ˆå…·ä½“åŒºåˆ«å¯ä»¥å‚è€ƒ[https://github.com/pytorch/pytorch/wiki/Running-and-writing-tests](https://github.com/pytorch/pytorch/wiki/Running-and-writing-tests "https://github.com/pytorch/pytorch/wiki/Running-and-writing-tests")ï¼‰ã€‚
3.  å¤œæ™šçš„commitï¼Œä¸»è¦è¿è¡ŒäºŒè¿›åˆ¶ CI å·¥ä½œæµå’Œå†’çƒŸæµ‹è¯•ï¼ˆ smoke testsï¼Œå¯¹è¯¥ç‰ˆæœ¬æœ€åŸºæœ¬çš„åŠŸèƒ½è¿›è¡Œæµ‹è¯•ï¼Œä¿è¯åŸºæœ¬çš„åŠŸèƒ½å’Œæµç¨‹èƒ½èµ°é€šã€‚ï¼‰ã€‚

å¦å¤–ï¼Œpytorchå¯ä»¥é€‰æ‹©æ€§å–æ¶ˆã€å¯åŠ¨éƒ¨åˆ†CIä¸­æµ‹è¯•ã€‚ä¸€äº› æµ‹è¯•ç”±äºä¸ç¨³å®šæ€§ã€ä¸æŸäº›å¹³å°çš„ä¸å…¼å®¹æ€§æˆ–å…¶ä»–ä¸´æ—¶æ€§æ•…éšœè€Œæš‚æ—¶è¢«ç¦ç”¨ï¼Œç›´åˆ°é—®é¢˜è§£å†³ï¼Œï¼ˆè¯¦è§ï¼š[https://github.com/pytorch/test-infra/blob/generated-stats/stats/disabled-tests-condensed.json](https://github.com/pytorch/test-infra/blob/generated-stats/stats/disabled-tests-condensed.json "https://github.com/pytorch/test-infra/blob/generated-stats/stats/disabled-tests-condensed.json")ï¼‰ã€‚

è¦ç¦ç”¨æµ‹è¯•ï¼Œä¾‹å¦‚ï¼Œä½ å¯ä»¥åˆ›å»ºä¸€ä¸ªæ ‡é¢˜ä¸º `DISABLED test_case_name (test.ClassName)`çš„PRï¼Œè¯¦ç»†çš„ä¾‹å­å¯å‚è€ƒï¼š `DISABLED test_jit_cuda_extension (`**`main`**`.TestCppExtensionJIT)`ã€‚å¦å¤–ï¼Œä½ è¿˜å¯ä»¥æŒ‰ç…§æŒ‡å®šè§„åˆ™è·³è¿‡æŸäº›ç‰¹å®šå¹³å°çš„æµ‹è¯•ã€‚

æ­¤å¤–ï¼Œpytorch CIè¿˜æœ‰ä¸€ä¸ªå¾ˆä¸é”™çš„çœ‹æ¿ï¼ˆé’ˆå¯¹å¤šå·¥ä½œæµçš„æƒ…å†µä¸‹æ¸…æ™°æŒæ¡ç°çŠ¶ï¼‰

[https://github.com/pytorch/pytorch/wiki/Using-hud.pytorch.org](https://github.com/pytorch/pytorch/wiki/Using-hud.pytorch.org "https://github.com/pytorch/pytorch/wiki/Using-hud.pytorch.org")

[https://hud.pytorch.org/](https://hud.pytorch.org/ "https://hud.pytorch.org/")

![](https://ai-studio-static-online.cdn.bcebos.com/fe827a1bff784379b7e6b3bcef381b1d57beac8918354d2ebb6f5d1588ab3b0b)


è¿™ä¸ªçœ‹æ¿ç”šè‡³å¯ä»¥ç”¨æ¥æŸ¥çœ‹ä¸€æ®µæ—¶æœŸé”™è¯¯æ„å»ºçš„åˆ†å¸ƒæƒ…å†µï¼š

[https://hud.pytorch.org/reliability](https://hud.pytorch.org/reliability "https://hud.pytorch.org/reliability")

![](https://ai-studio-static-online.cdn.bcebos.com/e67b7e22cc3048dc88832901d1bf180cd3e18fe1543c425088d213edafead584)

æœ€åï¼Œæˆ‘ä»¬æ¥çœ‹çœ‹pytorchå…·ä½“æœ‰é‚£äº›CIå­ä»»åŠ¡ï¼ˆç”±äºå¤ªå¤šï¼Œå°±åªçœ‹ç±»åˆ«ï¼Œå…·ä½“å¯ä»¥çœ‹CIçœ‹æ¿ï¼‰ï¼š

| CIç±»åˆ«                     | ä½œç”¨                                                                                                |
| ------------------------ | ------------------------------------------------------------------------------------------------- |
| Lint                     | é™æ€åˆ†æï¼ŒåŸºç¡€è§„èŒƒçš„æ£€æŸ¥                                                                                      |
| Linux                    | linuxç³»ç»Ÿä¸Šå„ç‰ˆæœ¬çš„æ„å»ºåŠæµ‹è¯•                                                                                 |
| Windows                  | windowsç³»ç»Ÿä¸Šå„ç‰ˆæœ¬çš„æ„å»ºåŠæµ‹è¯•                                                                               |
| iOS                      | iosç³»ç»Ÿä¸Šæ„å»ºæµ‹è¯•                                                                                        |
| Mac                      | windowsç³»ç»Ÿä¸Šå„ç‰ˆæœ¬çš„æ„å»ºåŠæµ‹è¯•                                                                               |
| ROCm                     | AMD ROCm å¯¹åº”ç‰ˆæœ¬çš„æ„å»ºåŠæµ‹è¯•                                                                               |
| XLA                      | PyTorch/XLA TPUç‰ˆæœ¬å¯¹åº”çš„æ„å»ºå’Œæµ‹è¯•                                                                         |
| Libtorch                 | torch C++åç«¯å¯¹åº”æ„å»º                                                                                   |
| Android                  | Android ç³»ç»Ÿä¸Šæ„å»ºæµ‹è¯•                                                                                   |
| Binary Linux             | linuxç³»ç»Ÿä¸ŠlibtorchäºŒè¿›åˆ¶åº“ç›¸å…³                                                                            |
| Binary Windows           | windowsç³»ç»Ÿä¸ŠlibtorchäºŒè¿›åˆ¶åº“ç›¸å…³                                                                          |
| Memory Leak Check        | åŠ¨æ€åˆ†æï¼Œå†…å­˜æ³„æ¼æ£€æŸ¥                                                                                       |
| Periodic                 | å®šæœŸè¿è¡Œçš„ä»»åŠ¡æˆ–æµ‹è¯•ä»¥ç¡®ä¿è½¯ä»¶çš„ç¨³å®šæ€§å’Œå¯é æ€§ã€‚å¯èƒ½åŒ…æ‹¬è¿è¡Œå¤§é‡çš„æµ‹è¯•å¥—ä»¶ã€æ€§èƒ½åŸºå‡†æµ‹è¯•æˆ–å…¶ä»–æ£€æŸ¥ã€‚                                                |
| Docs                     | æ–‡æ¡£ç›¸å…³                                                                                              |
| Rerun Disabled Tests     | é‡æ–°è·‘å…³é—­åçš„æµ‹è¯•                                                                                         |
| Inductor                 | TorchIniconductor æ·±åº¦å­¦ä¹ ç¼–è¯‘å™¨ç›¸å…³çš„CIï¼Œå®ƒå¯ä»¥ä¸ºå¤šä¸ªåŠ é€Ÿå™¨å’Œåç«¯ç”Ÿæˆå¿«é€Ÿä»£ç ã€‚å¯¹äº NVIDIA å’Œ AMD å›¾å½¢å¤„ç†å™¨ï¼Œå®ƒä½¿ç”¨ OpenAI Triton ä½œä¸ºå…³é”®æ„ä»¶ã€‚ |
| Annotations and labeling | æ›´æ–°ä¸‹è½½ç´¢å¼•ä¿¡æ¯ç­‰                                                                                         |
| other                    | å…¶ä»–ä¸€äº›æ‚é¡¹ä»»åŠ¡                                                                                          |

å¦å¤–ï¼Œå€¼å¾—ä¸€æçš„æ˜¯ï¼Œå¯¹äºCIçš„ç»“æœï¼Œpytorchæœ‰ä¸€ä¸ªå«åšpytorchmergebotçš„æœºå™¨äººå¯ä»¥æŠ¥å‘Šï¼š

![](https://ai-studio-static-online.cdn.bcebos.com/07666a1dca0b46689844ef0e86a37335626b951ea8a64c8d875e4b8d6117160d)

### Tensorflow

tensorflowçš„CIä½¿ç”¨äº†jenkinsï¼Œç›¸å¯¹æ¥è¯´èµ„æ–™ä¼šå°‘ä¸€äº›ï¼š

For windows you have '**windows-ci.yml**' pipelines which uses visual studio to build and run.

For mac you have there is '**macos-ci.yml**'

For linu7x it is '**linux-ci.yml**'

to build and test pipeline used is '**nightly-pip-package.yml**'

For tensorflow doc we use '**docs-presubmit.yml**'

To buld, run and release the packages we use '**release.yml**'You can look over many pipelines in workflows directory.

### **ONNX**

onnxçš„CIå®˜æ–¹è§£è¯»æ–‡æ¡£ï¼š

[https://github.com/onnx/onnx/blob/main/docs/CIPipelines.md](https://github.com/onnx/onnx/blob/main/docs/CIPipelines.md "https://github.com/onnx/onnx/blob/main/docs/CIPipelines.md")

æ€»çš„æ¥è¯´ï¼Œonnxçš„CIå†™çš„éå¸¸å¥½ï¼Œå¯ä»¥è¯´ä»…æ¬¡äºpytorchï¼Œä»¤äººä¸€ç›®äº†ç„¶ï¼ŒæŠ“ä½äº†æ‰€æœ‰çš„æ ¸å¿ƒè¦ç‚¹ã€‚

|                                    | When it runs                                  | Test                                                                                                                                                                                                                                                                                                                                                                               |
| ---------------------------------- | --------------------------------------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| Linux-CI                           | Every PR                                      | - ONNX C++ tests  &#xA;- Style check (flake8, mypy, and clang-format)  &#xA;- Test doc generation  &#xA;- Test proto generation  &#xA;- Verify node test generation                                                                                                                                                                                                                |
| Windows-CI                         | Every PR                                      | - Test building ONNX in conda environment  &#xA;- Test doc generation  &#xA;- Test proto generation  &#xA;- Verify node test generation                                                                                                                                                                                                                                            |
| Mac-CI                             | Every PR                                      | - ONNX C++ tests  &#xA;- Test doc generation  &#xA;- Test proto generation  &#xA;- Verify node test generation                                                                                                                                                                                                                                                                     |
| Windows\_No\_Exception CI          | Every PR                                      | - Only ONNX C++ tests  &#xA;- Test selective schema loading                                                                                                                                                                                                                                                                                                                        |
| Lint / Optional Lint               | Every PR                                      | - Not required -- it shows lint warnings for suggestions in PR  &#xA;- misspell  &#xA;- shellcheck                                                                                                                                                                                                                                                                                 |
| Lint / Enforce style               | Every PR                                      | - flake8  &#xA;- isort  &#xA;- black  &#xA;- mypy  &#xA;- clang-format  &#xA;- unix line endings  &#xA;- c++ namespace rules  &#xA;- Auto-generated files are up to date                                                                                                                                                                                                           |
| WindowsRelease                     | Main branch  &#xA;Release branch  &#xA;Weekly | - Release Windows wheel  &#xA;- Release onnx-weekly package  &#xA;- Verify with different dependency versions - latest and min supported numpy version, latest and min supported protobuf version  &#xA;- Verify ONNX with the latest ONNX Runtime PyPI package.                                                                                                                   |
| LinuxRelease\_aarch64              | Main branch  &#xA;Release branch  &#xA;Weekly | - Release Linux aarch64 wheel  &#xA;- Release onnx-weekly package  &#xA;- Verify with different dependency versions - latest numpy version, latest and min supported protobuf version  &#xA;- Verify ONNX with the latest ONNX Runtime PyPI package                                                                                                                                |
| LinuxRelease\_x86\_64              | Main branch  &#xA;Release branch  &#xA;Weekly | - Release Linux x86\_64 wheel  &#xA;- Release onnx-weekly package  &#xA;- Test TEST\_HUB=1  &#xA;- Verify with different dependency versions - latest numpy version, latest and min supported protobuf version  &#xA;- Verify ONNX with the latest ONNX Runtime PyPI package.                                                                                                      |
| MacRelease                         | Main branch  &#xA;Release branch  &#xA;Weekly | - Release Mac wheel  &#xA;- Release onnx-weekly package  &#xA;- Verify with different dependency versions - latest numpy version, latest and min supported protobuf version  &#xA;- Verify ONNX with the latest ONNX Runtime PyPI package.  &#xA;- Test source distribution generation  &#xA;- Test build with source distribution  &#xA;- Release onnx-weekly source distribution |
| Weekly CI with latest onnx.checker | weekly                                        | - Test latest ONNX checker  &#xA;- Test latest ONNX shape inference  &#xA;- With all models from onnx/models                                                                                                                                                                                                                                                                       |

### **opencv**

opencvçš„CIå®˜æ–¹è§£è¯»æ–‡æ¡£ï¼š

[https://github.com/opencv/opencv/wiki/CI-configuration](https://github.com/opencv/opencv/wiki/CI-configuration "https://github.com/opencv/opencv/wiki/CI-configuration")

| CIå         | ä½œç”¨                                           |
| ----------- | -------------------------------------------- |
| U20         | ubuntu20.04ä¸‹é’ˆå¯¹ä¸åŒä½“ç³»çš„æ„å»ºä¸æµ‹è¯•ï¼ˆarm64ã€x64ã€x64-CUDAï¼‰ |
| W10         | winndows10 x64ä¸‹çš„æ„å»ºä¸æµ‹è¯•                        |
| macOS-ARM64 | macOS ARM64ä¸‹çš„æ„å»ºä¸æµ‹è¯•                           |
| macOS-X64   | macOS X64ä¸‹çš„æ„å»ºä¸æµ‹è¯•                             |
| ios         | iosä¸‹çš„æ„å»ºï¼ˆæ²¡æœ‰æµ‹è¯•ï¼‰                                |
| Android     | å®‰å“ç³»ç»Ÿä¸‹çš„æ„å»ºä¸æµ‹è¯•                                  |
| TIM-VX      | khads-vim3ï¼š A311D NPU çš„ Khads VIM3 å¼€å‘æ¿æ¨¡æ‹Ÿå™¨    |
| docs        | ç”Ÿæˆå¯¹åº”æ–‡æ¡£ï¼Œä¸”è¿›è¡Œä¸€äº›å…³äºä»£ç çš„å¥å…¨æ€§/linter æ£€æŸ¥               |

å¦å¤–ï¼Œopencvå¯ä»¥æ ¹æ®prä¸­çš„å‚æ•°é€‰æ‹©æ€§è°ƒæ•´æµ‹è¯•ï¼š

![](https://ai-studio-static-online.cdn.bcebos.com/a500d55cb31f42aa9a2c084edb5198a25946f03233bc4d32b4e18d7b162f83b8)

é’ˆå¯¹ç‰¹æ®Šçš„æƒ…å†µï¼Œä¹Ÿå¯ä»¥é€šè¿‡CIé…ç½®è¿›è¡Œç›¸åº”æµ‹è¯•ã€‚

![](https://ai-studio-static-online.cdn.bcebos.com/78de890ff03a4bb1be86fd838b5d7eb82a6979136ada492abd8fcdffca4485a9)

## CIæ¯”è¾ƒ

### paddleçš„ciå¯¹æ¯” github çš„ciä½“éªŒï¼ˆciäº§å“æœ¬èº«ï¼‰

çº¯ç²¹ä»CIæœåŠ¡çš„è§’åº¦æ¥è¯´ï¼Œgithubçš„ciæœ‰åˆ†æ›´ç»†è‡´çš„é˜¶æ®µï¼Œå¤§é˜¶æ®µé‡Œé¢è¿˜æœ‰å°é˜¶æ®µï¼Œæ–¹ä¾¿æ‰¾å‡ºæ¯ä¸ªç¯èŠ‚çš„é—®é¢˜ã€‚ä½†æ˜¯åå¤„å°±æ˜¯æ²¡åŠæ³•ä¸€æ å…¨è²Œ ï¼Œè¿™ä¸ªæˆ‘è§‰å¾—åªæ˜¯ä¹ æƒ¯é—®é¢˜ï¼Œçœ‹ä¸ªäººå–œå¥½ã€‚

å¦å¤–ï¼Œç›®å‰paddleçš„CIå¦‚æœå‡ºç°éƒ¨åˆ†å‡ ä¸ªçš„CIé—®é¢˜ï¼Œæ²¡åŠæ³•ä¸€é”®é€‰æ‹©å¤±è´¥çš„é‡æ„ï¼Œåªèƒ½ä¸€ä¸ªä¸ªæ‰“å¼€åé‡æ„æˆ–è€…å¹²è„†å…¨éƒ¨é‡æ„ï¼Œåœ¨è¿™ä¸€ç‚¹ä¸Šä¹Ÿæ˜¯å¯¹å¼€å‘è€…æœ‰æ‰€ä¸ä¾¿çš„åœ°æ–¹ã€‚

ä»å…¶ä»–çš„è§’åº¦æ¥è¯´ï¼Œå®é™…ä¸ŠPaddleçš„CIä¹Ÿå·²ç»æ¯”è¾ƒå®Œå–„äº†ï¼Œä½†åœ¨å…·ä½“çš„ç»†èŠ‚ä¸Šä»æœ‰å¯ä¼˜åŒ–çš„åœ°æ–¹ï¼Œæˆ‘å°†ä¼šåœ¨ä¸‹é¢çš„åˆ†æä¸­è°ˆåˆ°ã€‚

### paddleçš„ciå¯¹æ¯”å…¶ä»–ciçš„ä½“éªŒï¼ˆciè®¾è®¡æœ¬èº«ï¼‰

å‚è€ƒä¹‹å‰æ‰€æœ‰å¼€æºé¡¹ç›®çš„CIï¼Œæˆ‘æ•´ç†äº†ä¸€ä¸ªä¸ªäººç‰ˆçš„CIåŸºå‡†è¡¨ï¼Œå¹¶é’ˆå¯¹ä¸Šè¿°æåˆ°çš„å¼€æºé¡¹ç›®å¡«å…¥äº†ç›¸å…³å†…å®¹ï¼ŒåŸºå‡†è¡¨æ ¼å¦‚ä¸‹æ‰€ç¤ºï¼šï¼ˆè¯„ä»·æ ‡å‡†ï¼šâˆšè¡¨ç¤ºæœ‰è¾ƒå¥½è€Œå®Œæ•´çš„åŠŸèƒ½ï¼ŒOè¡¨ç¤ºåŠŸèƒ½é€‚å½“ä½†æœ‰å¾…æ”¹è¿›ï¼Œ-è¡¨ç¤ºæ²¡æœ‰æˆ–è€…ä»æ–‡æ¡£ä¸­ä¸èƒ½æ˜¾å¼çŸ¥é“æ˜¯å¦æœ‰å¯¹åº”åŠŸèƒ½ï¼‰

| åŠŸèƒ½         | æè¿°                                | Paddle | PyTorch | TensorFlow | ONNX | OpenCV |
| ---------- | --------------------------------- | ------ | ------- | ---------- | ---- | ------ |
| æ„å»ºä»»ä½•PR     | æ”¯æŒå¯¹ä»»ä½• Pull Request åœ¨ Merge ä¹‹å‰è¿›è¡Œæ„å»º | âˆš      | âˆš       | âˆš          | âˆš    | âˆš      |
| è‡ªåŠ¨åŒ–æµ‹è¯•      | æ”¯æŒè§¦å‘å†’çƒŸ/å•å…ƒ/å›å½’æµ‹è¯•                    | âˆš      | âˆš       | âˆš          | âˆš    | âˆš      |
| æ€§èƒ½æµ‹è¯•       | æ”¯æŒè§¦å‘æ€§èƒ½æµ‹è¯•                          | âˆš      | âˆš       | -          | âˆš    | -      |
| ä»£ç è¦†ç›–ç‡æ”¶é›†    | æ”¯æŒè·å¾—ä»£ç è¦†ç›–ç‡                         | âˆš      | âˆš       | -          | -    | -      |
| Code Lint  | æ”¯æŒå¯¹PRè¿›è¡Œä»£ç æ ¼å¼æ£€æŸ¥                     | âˆš      | âˆš       | âˆš          | âˆš    | âˆš      |
| é™æ€ä»£ç åˆ†æ     | æ”¯æŒå¯¹PRè¿›è¡Œé™æ€ä»£ç åˆ†æ                     | âˆš      | âˆš       | âˆš          | âˆš    | âˆš      |
| åŠ¨æ€ä»£ç åˆ†æ     | æ”¯æŒå¯¹PRè¿›è¡ŒåŠ¨æ€ä»£ç åˆ†æ                     | -      | âˆš       | -          | âˆš    | -      |
| ç»“æœé€šçŸ¥       | ä»¥ä»»ä½•æ–¹å¼ç¬¬ä¸€æ—¶é—´é€šçŸ¥æPRè€…                   | -      | âˆš       | -          | -    | -      |
| åˆ†é˜¶æ®µæ„å»º      | å¯ä»¥åˆ†æˆä¸¤ä¸ªæˆ–æ›´å¤šé˜¶æ®µæ„å»º                     | -      | âˆš       | -          | âˆš    | -      |
| é€‰æ‹©æ€§æ„å»º      | æ ¹æ®PRä¸­çš„å‚æ•°é€‰æ‹©æ€§è¿›è¡Œæ„å»º                   | O      | âˆš       | -          | -    | âˆš      |
| å®Œæ•´çš„CIæŠ¥å‘Šæˆ–çœ‹æ¿ | ç¼ºé™·ç‰¹å¾æŠ¥å‘Šã€å¤±è´¥æ¬¡æ•°æŠ¥å‘Šã€æ„å»ºæ—¶é—´æŠ¥å‘Šç­‰             | -      | âˆš       | -          | -    | -      |

### ciå¯¹é¡¹ç›®çš„ä¿æŠ¤ç¨‹åº¦åˆ†æ

æ€»çš„æ¥è¯´ï¼ŒPaddleçš„ciå¯¹é¡¹ç›®çš„ä¿æŠ¤è¿˜æ˜¯æ¯”è¾ƒå®Œå–„çš„ï¼Œä½†å’ŒPytorchæ¯”èµ·æ¥è¿˜æœ‰ä¸€å®šæå‡çš„ç©ºé—´ã€‚Pytorchæœ‰åŠå…¶åºå¤§çš„æµæ°´çº¿(ä¸Šç™¾æ¡)ï¼Œå¯¹ä¸åŒç³»ç»Ÿã€ä¸åŒç¼–è¯‘æ–¹å¼ï¼ˆclang/gccç­‰ï¼‰éƒ½æœ‰åŠå…¶å……åˆ†çš„ç¼–è¯‘ã€æµ‹è¯•æµæ°´çº¿ï¼›å³ä¾¿æ˜¯æ¯”è¾ƒç›¸å¯¹å†·é—¨çš„åŠŸèƒ½ï¼ˆæ¯”å¦‚PyTorch/XLA TPUæˆ–è€…æ˜¯AMD ROCmï¼‰éƒ½è¿›è¡Œäº†å®Œæ•´çš„è¦†ç›–ï¼Œä¹Ÿæœ‰å‘¨æœŸæ€§çš„CIåšäº†æ›´è¿›ä¸€æ­¥çš„é˜²æŠ¤ã€‚ç»“åˆé™æ€å’ŒåŠ¨æ€æ£€æŸ¥å’Œå¿«é€Ÿåé¦ˆï¼Œåœ¨CIä¿æŠ¤ä¸‹çš„pytorchåŸºæœ¬å¯ä»¥è¯´æ˜¯ååˆ†ç‰¢å›ºçš„ã€‚Paddleåˆ™å¯èƒ½ç›¸å¯¹åœ¨ä¸åŒç¼–è¯‘æ¡ä»¶ã€æ–°ç»„å»ºæ–°åŠŸèƒ½ä¸‹çš„æµ‹è¯•å’Œå¿«é€Ÿåé¦ˆç›¸å¯¹æ¬ ç¼ºä¸€äº›ï¼Œåœ¨è¿™äº›æ–¹é¢å®¹æ˜“é€ æˆé—®é¢˜çš„å †ç§¯ã€‚

## æ€»ç»“

æ€»çš„æ¥è¯´ï¼Œç»è¿‡å¤§é‡githubä¸Šå¼€æºé¡¹ç›®çš„CIè§‚å¯Ÿï¼Œæˆ‘ä»¬å¯ä»¥è®¤ä¸ºä¸Šè¿°çš„CIåŸºå‡†æ˜¯æ¯”è¾ƒå®Œå–„çš„ï¼Œèƒ½å¤Ÿè¾ƒå¥½çš„ååº”ä¸€ä¸ªå¼€æºé¡¹ç›®çš„CIæ°´å¹³ã€‚è™½ç„¶Paddleçš„CIåœ¨ä¸Šè¿°åŸºå‡†ä¸­è¡¨ç°ä¸­ä¸Šï¼Œä½†è¿˜å­˜åœ¨ä¸€å®šçš„å¯æ”¹å–„ç©ºé—´ï¼›åœ¨æ­¤æ¨èå‘pytorchå’Œonnxå­¦ä¹ ï¼Œé€šè¿‡å®Œå–„ä¸€äº›CIçš„ç»†èŠ‚å¦‚CIé€šçŸ¥ã€CIé‡ç½®ï¼›å®Œå–„CIçš„é€æ˜åº¦å¦‚CIç»†èŠ‚çš„é˜é‡Šï¼ˆå¦‚onnxï¼‰ä»¥åŠç›¸åº”çš„çœ‹æ¿ï¼Œèƒ½å¤Ÿè®©å¼€å‘è€…å’Œç¤¾åŒºæ›´å¥½çš„å‘ç°å¯¹åº”é—®é¢˜ï¼Œä»è€Œè®©Paddleçš„ç¤¾åŒºååŒå¼€å‘æ›´åŠ ç¨³å¥å¯é ï¼Œè¿›ä¸€æ­¥é™ä½æ²Ÿé€šæˆæœ¬ã€‚

æœ€åç¥Paddleè¶Šæ¥è¶Šå¥½ï¼Œåœ¨å®Œå–„CIçš„ä¿æŠ¤ä¸‹èŒå£®æˆé•¿\~
